<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Configuration Files</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Configuration Files </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#transpose_flag">Default Vector Storage</a></li>
<li class="level1"><a href="#storage_order">Default Matrix Storage</a></li>
<li class="level1"><a href="#vectorization">Vectorization</a></li>
<li class="level1"><a href="#thresholds">Thresholds</a></li>
<li class="level1"><a href="#streaming">Streaming (Non-Temporal Stores)</a></li>
</ul>
</div>
<div class="textblock"><center> Previous: <a class="el" href="../../d2/dcb/intra_statement_optimization.html">Intra-Statement Optimization</a> </center><p> <br />
</p>
<p>Sometimes it might necessary to adapt <b>Blaze</b> to specific requirements. For this purpose <b>Blaze</b> provides several configuration files in the <em>./blaze/config/</em> subdirectory, which provide ample opportunity to customize internal settings, behavior, and thresholds. This chapter explains the most important of these configuration files.</p>
<p><br />
 </p>
<h1><a class="anchor" id="transpose_flag"></a>
Default Vector Storage</h1>
<hr/>
<p>The <b>Blaze</b> default is that all vectors are created as column vectors (if not specified explicitly):</p>
<div class="fragment"><div class="line"><a class="code" href="../../d9/d3c/classblaze_1_1StaticVector.html">blaze::StaticVector&lt;double,3UL&gt;</a> x;  <span class="comment">// Creates a 3-dimensional static column vector</span></div>
</div><!-- fragment --><p>The header file <em>./blaze/config/TransposeFlag.h</em> allows the configuration of the default vector storage (i.e. the default transpose flag of the vectors). Via the <em>defaultTransposeFlag</em> value the default transpose flag for all vector of the <b>Blaze</b> library can be specified:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="../../d1/d44/group__config.html#gafcc21778299e5c18d8e93e0d9254300e">defaultTransposeFlag</a> = <a class="code" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa">columnVector</a>;</div>
</div><!-- fragment --><p>Valid settings for the <em>defaultTransposeFlag</em> are <a class="el" href="../../d2/de9/namespaceblaze.html#a006b6328815f2632d2c5ab8b869c5cf0" title="Transpose flag for row vectors. ">blaze::rowVector</a> and <a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a>.</p>
<p><br />
 </p>
<h1><a class="anchor" id="storage_order"></a>
Default Matrix Storage</h1>
<hr/>
<p>Matrices are by default created as row-major matrices:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d3/dd3/classblaze_1_1StaticMatrix.html">blaze::StaticMatrix&lt;double,3UL,3UL&gt;</a>  A;  <span class="comment">// Creates a 3x3 row-major matrix</span></div>
</div><!-- fragment --><p>The header file <em>./blaze/config/StorageOrder.h</em> allows the configuration of the default matrix storage order. Via the <em>defaultStorageOrder</em> value the default storage order for all matrices of the <b>Blaze</b> library can be specified.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="../../d1/d44/group__config.html#gab4c5b7330d511e76f9c20327f3279483">defaultStorageOrder</a> = <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">rowMajor</a>;</div>
</div><!-- fragment --><p>Valid settings for the <em>defaultStorageOrder</em> are <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a> and <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>.</p>
<p><br />
 </p>
<h1><a class="anchor" id="vectorization"></a>
Vectorization</h1>
<p>In order to achieve maximum performance and to exploit the compute power of a target platform the <b>Blaze</b> library attempts to vectorize all linear algebra operations by SSE, AVX, and/or MIC intrinsics, depending on which instruction set is available. However, it is possible to disable the vectorization entirely by the compile time switch in the configuration file <em>./blaze/config/Vectorization.h</em>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define BLAZE_USE_VECTORIZATION 1</span></div>
</div><!-- fragment --><p>In case the switch is set to 1, vectorization is enabled and the <b>Blaze</b> library is allowed to use intrinsics to speed up computations. In case the switch is set to 0, vectorization is disabled entirely and the <b>Blaze</b> library chooses default, non-vectorized functionality for the operations. Note that deactivating the vectorization may pose a severe performance limitation for a large number of operations!</p>
<p><br />
 </p>
<h1><a class="anchor" id="thresholds"></a>
Thresholds</h1>
<p><b>Blaze</b> provides several thresholds that can be adapted to the characteristics of the target platform. For instance, the <em>DMATDVECMULT_THRESHOLD</em> specifies the threshold between the application of the custom Blaze kernels for small dense matrix/dense vector multiplications and the BLAS kernels for large multiplications. All thresholds, including the thresholds for the OpenMP-based parallelization, are contained within the configuration file <em>./blaze/config/Thresholds.h</em>.</p>
<p><br />
 </p>
<h1><a class="anchor" id="streaming"></a>
Streaming (Non-Temporal Stores)</h1>
<p>For vectors and matrices that don't fit into the cache anymore non-temporal stores can provide a significant performance advantage of about 20%. However, this advantage is only in effect in case the memory bandwidth of the target architecture is maxed out. If the target architecture's memory bandwidth cannot be exhausted the use of non-temporal stores can decrease performance instead of increasing it.</p>
<p>The configuration file <em>./blaze/config/Streaming.h</em> provides a compile time switch that can be used to (de-)activate streaming:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="../../d1/d44/group__config.html#gab89faeb083e34f66ac34210d314a5f03">useStreaming</a> = <span class="keyword">true</span>;</div>
</div><!-- fragment --><p>If <em>useStreaming</em> is set to <em>true</em> streaming is enabled, if it is set to <em>false</em> streaming is disabled. It is recommended to consult the target architecture's white papers to decide whether streaming is beneficial or hurtful for performance.</p>
<p><br />
 </p><center> Previous: <a class="el" href="../../d2/dcb/intra_statement_optimization.html">Intra-Statement Optimization</a> </center> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 2 2015 04:55:20 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
